---
title: "AWS S3"
---

Odigos exports data to AWS s3 in [OTLP format](https://opentelemetry.io/docs/specs/otlp/).
Data can be exported either in JSON format or in binary format (protobuf).

## Configuration

To configure the AWS S3 exporter, you need to provide the following configuration:

- `Bucket Region` - The AWS region where the bucket is located.
- `Bucket Name` - The name of the bucket where the data will be stored.

The following configuration is optional:

- `Time granularity of S3 Bucket` - Wether a new bucket should be created every minute or every hour. default is `minute`.
- `Marshaller (data format)` - The format in which the data will be encoded. It can be either `otlp_json` or `otlp_proto`. Default is `otlp_json`.

## Setting up AWS S3 Bucket

If you haven't already, you need to create an S3 bucket to store your data. 
You can do it using the [AWS Management Console](https://console.aws.amazon.com/s3/home) or the [AWS CLI](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html).

For example, to create a bucket named `otel-data` in region `us-east-1` using the AWS CLI, you can run the following command:

```bash
aws s3api create-bucket --bucket otel-data --region us-east-1
```

## Setting up AWS credentials with AWS EKS (Elastic Kubernetes Service)

The following command enables the association of an IAM OpenID Connect (OIDC) identity provider with your Amazon EKS cluster. 
By running this command, you allow your EKS cluster to interact with other AWS services securely, using IAM roles for service accounts (IRSA). 
IRSA is a feature that allows Kubernetes service accounts to assume IAM roles, providing a fine-grained permission model and reducing the need for managing Kubernetes secrets for AWS credential management.

Replace `$EKS_CLUSTER_REGION` with the region of your EKS cluster and `$EKS_CLUSTER_NAME` with the name of your EKS cluster (or set them as environment variables).

```bash
eksctl utils associate-iam-oidc-provider --region=$EKS_CLUSTER_REGION --cluster=$EKS_CLUSTER_NAME --approve
```


